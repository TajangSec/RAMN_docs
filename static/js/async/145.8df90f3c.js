"use strict";(self.webpackChunkRAMN_docs=self.webpackChunkRAMN_docs||[]).push([["145"],{4705:function(e,r,n){n.r(r),n.d(r,{default:()=>d});var c=n(5893),s=n(65);function i(e){let r=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",img:"img",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.h1,{id:"更进一步",children:[(0,c.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#更进一步",children:"#"}),"更进一步"]}),"\n",(0,c.jsxs)(r.h2,{id:"接下来该做什么",children:[(0,c.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#接下来该做什么",children:"#"}),"接下来该做什么"]}),"\n",(0,c.jsxs)(r.p,{children:["如果你已完成本节中的所有教程，并正在寻找新的内容，可以尝试挑战 ",(0,c.jsx)(r.a,{href:"/docs/minictf.html",children:"CTF 训练"}),"页面中的题目，或者重温过去包含 RAMN 的专业 CTF 比赛（",(0,c.jsx)(r.a,{href:"/docs/ctf_writeups.html#ctf-%E9%A2%98%E8%A7%A3",children:"CTF 解题报告 "}),"）。"]}),"\n",(0,c.jsxs)(r.h2,{id:"使用外部适配器",children:[(0,c.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#使用外部适配器",children:"#"}),"使用外部适配器"]}),"\n",(0,c.jsxs)(r.p,{children:["虽然你可以将 ECU A 用作 USB 转 CAN 适配器，但你可能更倾向于使用外部 CAN 适配器以及配套的分析工具套件。例如，你可以将 ",(0,c.jsx)(r.a,{href:"https://rbei-etas.github.io/busmaster/",rel:"noopener noreferrer",target:"_blank",children:"BUSMASTER"})," 与 ",(0,c.jsx)(r.a,{href:"https://www.peak-system.com/PCAN-USB.199.0.html?&L=1",rel:"noopener noreferrer",target:"_blank",children:"PCAN-USB"})," 配合使用。这些工具通常允许你加载一个数据库文件（“DBC 文件”），该文件指定了 CAN 帧中每个比特所代表的具体含义。"]}),"\n",(0,c.jsxs)(r.h3,{id:"ramn-的-dbc-文件",children:[(0,c.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#ramn-的-dbc-文件",children:"#"}),"RAMN 的 DBC 文件"]}),"\n",(0,c.jsxs)(r.p,{children:["RAMN 的“DBC”和“DBF”文件位于 ",(0,c.jsx)(r.a,{href:"https://github.com/ToyotaInfoTech/RAMN/tree/main/misc",rel:"noopener noreferrer",target:"_blank",children:"misc 文件夹"}),"中。您可以使用这些文件来帮助分析 RAMN 的默认信号。"]}),"\n",(0,c.jsx)(r.p,{children:"例如，借助 BUSMASTER 和兼容的外部适配器，您可以选择“数据库 -> 关联”，并加载 .DBF 文件。"}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.img,{src:"/userguide/busmaster_dbc.webp",alt:""})}),"\n",(0,c.jsx)(r.p,{children:"这将允许您用助记符替换 CAN 标识符和有效载荷，如下所示。"}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.img,{src:"/userguide/busmaster_dbc2.webp",alt:""})}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.img,{src:"/userguide/busmaster_dbc3.webp",alt:""})}),"\n",(0,c.jsx)(r.p,{children:"这将使您能够记录并显示在 CAN 总线上观察到的数值图表。"}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.img,{src:"/userguide/busmaster_dbc4.webp",alt:""})}),"\n",(0,c.jsxs)(r.p,{children:["RAMN 的 GitHub 仓库中提供了一个 ",(0,c.jsx)(r.a,{href:"https://github.com/ToyotaInfoTech/RAMN/blob/main/misc/PID_example.pdf",rel:"noopener noreferrer",target:"_blank",children:"PID 控制示例 "}),",该示例在 RAMN ECU 上以闭环方式与驾驶模拟器（参见 ",(0,c.jsx)(r.a,{href:"/docs/scripts/carla.html#carla",children:"CARLA"}),"）协同实现。"]}),"\n",(0,c.jsxs)(r.h2,{id:"其他-can-工具",children:[(0,c.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#其他-can-工具",children:"#"}),"其他 CAN 工具"]}),"\n",(0,c.jsx)(r.p,{children:"其他 CAN 软件工具也可用于与 RAMN 的 ECU 进行交互。"}),"\n",(0,c.jsxs)(r.p,{children:["例如,",(0,c.jsx)(r.a,{href:"https://github.com/CaringCaribou/caringcaribou",rel:"noopener noreferrer",target:"_blank",children:"Caring Caribou"})," 提供了多种与 UDS 和 XCP 交互的功能。请按照",(0,c.jsx)(r.a,{href:"https://github.com/CaringCaribou/caringcaribou/blob/master/documentation/howtoinstall.md",rel:"noopener noreferrer",target:"_blank",children:"此处的说明"}),"进行安装："]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"git clone https://github.com/CaringCaribou/caringcaribou\r\ncd caringcaribou\r\npython3 setup.py install\n"})}),"\n",(0,c.jsxs)(r.p,{children:["然后，在您的主目录中创建一个 .canrc 文件（可使用 ",(0,c.jsx)(r.code,{children:"nano ~/.canrc"}),"），并添加以下内容："]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"[default]\r\ninterface = socketcan\r\nchannel = can0\n"})}),"\n",(0,c.jsxs)(r.p,{children:["如果您需要以 root 用户身份执行，应改在 ",(0,c.jsx)(r.code,{children:"/root/.canrc"})," 中创建 .canrc 文件。"]}),"\n",(0,c.jsx)(r.p,{children:"之后您应该能够使用 caring caribou 的模块。"}),"\n",(0,c.jsxs)(r.h3,{id:"uds",children:[(0,c.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#uds",children:"#"}),"UDS"]}),"\n",(0,c.jsx)(r.p,{children:"你可以使用发现模块来确定 RAMN 的 ECU 所使用的 CAN ID。"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"caringcaribou uds discovery\n"})}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.img,{src:"/userguide/caringcaribou_uds_discovery.webp",alt:""})}),"\n",(0,c.jsx)(r.p,{children:"你可以使用“services”模块来查看 ECU B 支持哪些服务："}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"caringcaribou uds services 0x7e1 0x7e9\n"})}),"\n",(0,c.jsxs)(r.p,{children:["在另一个窗口中，你可以使用 ",(0,c.jsx)(r.code,{children:"isotpdump can0 -s 7e1 -d 7e9 -c -u"})," 来观察流量。"]}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.img,{src:"/userguide/caringcaribou_uds_services.webp",alt:""})}),"\n",(0,c.jsx)(r.p,{children:"您可以使用以下命令读取 ECU B 的所有可能的 DID："}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"caringcaribou uds dump_dids 0x7e1 0x7e9\n"})}),"\n",(0,c.jsxs)(r.p,{children:["如果遇到错误，请尝试执行 ",(0,c.jsx)(r.code,{children:"sudo ifconfig can0 txqueuelen 10000"})," 。"]}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.img,{src:"/userguide/caringcaribou_dumpdids.webp",alt:""})}),"\n",(0,c.jsxs)(r.h3,{id:"xcp",children:[(0,c.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#xcp",children:"#"}),"XCP"]}),"\n",(0,c.jsx)(r.p,{children:"请参考帮助页面，了解如何使用 Caring Caribou 的 XCP 模块："}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"caringcaribou xcp --help\n"})}),"\n",(0,c.jsx)(r.p,{children:"您可以使用发现模块扫描 XCP 对（自动黑名单选项会先监听流量，以避免误报）："}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"caringcaribou xcp discovery -autoblacklist 10\n"})}),"\n",(0,c.jsx)(r.p,{children:"您可以向 ECU 查询其基本信息，例如针对 ECU B："}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"caringcaribou xcp info 0x552 0x553\n"})}),"\n",(0,c.jsxs)(r.p,{children:["在另一个窗口中，使用 ",(0,c.jsx)(r.code,{children:"candump can0,552:7fe"})," 来观察 XCP 流量。"]}),"\n",(0,c.jsx)(r.p,{children:"你可以尝试使用 XCP 转储 ECU B 固件的前 256 字节，命令如下："}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"caringcaribou xcp dump 0x552 0x553 0x08000000 0x100 -f dump.bin\n"})}),"\n",(0,c.jsxs)(r.h2,{id:"can-脚本编写",children:[(0,c.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#can-脚本编写",children:"#"}),"CAN 脚本编写"]}),"\n",(0,c.jsx)(r.p,{children:"对于 CTF 和其他高级 CAN 活动，你可以使用 python-can 来自动化 CAN 通信。"}),"\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.a,{href:"https://python-can.readthedocs.io/en/stable/",rel:"noopener noreferrer",target:"_blank",children:"python-can"})," 可用于直接在 CAN 层上自动化帧的传输。你可以在",(0,c.jsx)(r.a,{href:"https://github.com/hardbyte/python-can/tree/main/examples",rel:"noopener noreferrer",target:"_blank",children:"这里"}),"找到一系列示例。示例 send_one.py 将向你展示如何简单地发送一条 CAN 消息，receive_all.py 将展示如何接收 CAN 消息，而 asyncio_demo.py 则会演示如何将 CAN 消息的接收与发送关联起来。"]}),"\n",(0,c.jsxs)(r.p,{children:["同样地，",(0,c.jsx)(r.a,{href:"https://can-isotp.readthedocs.io/en/latest/",rel:"noopener noreferrer",target:"_blank",children:"can-isotp"})," 可用于自动化 ISO-TP 消息的传输。有关示例，请参阅其 ",(0,c.jsx)(r.a,{href:"https://can-isotp.readthedocs.io/en/latest/isotp/examples.html",rel:"noopener noreferrer",target:"_blank",children:"文档 "}),"。"]}),"\n",(0,c.jsxs)(r.p,{children:["最后，",(0,c.jsx)(r.a,{href:"https://udsoncan.readthedocs.io/en/latest/udsoncan/examples.html",rel:"noopener noreferrer",target:"_blank",children:"udsoncan"})," 可用于 UDS 通信交换。"]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,s.ah)(),e.components);return r?(0,c.jsx)(r,Object.assign({},e,{children:(0,c.jsx)(i,e)})):i(e)}let d=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["docs%2Fuserguide%2Fgoing_further.mdx"]={toc:[{id:"接下来该做什么",text:"接下来该做什么",depth:2},{id:"使用外部适配器",text:"使用外部适配器",depth:2},{id:"ramn-的-dbc-文件",text:"RAMN 的 DBC 文件",depth:3},{id:"其他-can-工具",text:"其他 CAN 工具",depth:2},{id:"uds",text:"UDS",depth:3},{id:"xcp",text:"XCP",depth:3},{id:"can-脚本编写",text:"CAN 脚本编写",depth:2}],title:"更进一步",headingTitle:"更进一步",frontmatter:{}}}}]);