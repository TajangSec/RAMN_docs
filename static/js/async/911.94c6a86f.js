"use strict";(self.webpackChunkRAMN_docs=self.webpackChunkRAMN_docs||[]).push([["911"],{2053:function(e,r,n){n.r(r),n.d(r,{default:()=>d});var i=n(5893),s=n(65);function h(e){let r=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",em:"em",ul:"ul",li:"li",img:"img",h3:"h3",strong:"strong",h4:"h4"},(0,s.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.h1,{id:"概述",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#概述",children:"#"}),"概述"]}),"\n",(0,i.jsxs)(r.h2,{id:"cad-软件",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#cad-软件",children:"#"}),"CAD 软件"]}),"\n",(0,i.jsxs)(r.p,{children:["PCB 采用 ",(0,i.jsx)(r.a,{href:"https://kicad.org/",rel:"noopener noreferrer",target:"_blank",children:"KiCAD"})," 进行设计，KiCAD 是一款用于 PCB 设计的开源工具。设计文件可在 ",(0,i.jsx)(r.a,{href:"https://github.com/ToyotaInfoTech/RAMN",rel:"noopener noreferrer",target:"_blank",children:"Github 仓库"}),"的 ",(0,i.jsx)(r.em,{children:"hardware/V1_revB"})," 文件夹中找到："]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.em,{children:"0_ramn"})," 包含 RAMN 主 PCB 的设计数据。"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.em,{children:"1_screens"})," 至 ",(0,i.jsx)(r.em,{children:"5_debuggers"})," 包含 RAMN 扩展模块的设计数据。"]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/kicad1.webp",alt:"KiCAD 中 RAMN 的 PCB CAD 视图"}),"\r\n",(0,i.jsx)(r.em,{children:"KiCAD 中 RAMN 的 PCB CAD 视图"})]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/kicad2.webp",alt:"KiCAD 中 RAMN 的 3D 视图"}),"\r\n",(0,i.jsx)(r.em,{children:"KiCAD 中 RAMN 的 3D 视图"})]}),"\n",(0,i.jsxs)(r.h2,{id:"设计",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#设计",children:"#"}),"设计"]}),"\n",(0,i.jsx)(r.p,{children:"RAMN 的主控板是一块信用卡尺寸的 PCB，配备 4 个 ECU、一个 CAN FD 总线和一个 USB 接口。"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/ramn_board.jpg",alt:""}),"\r\n",(0,i.jsx)(r.em,{children:"RAMN 的主控板"})]}),"\n",(0,i.jsx)(r.p,{children:"RAMN 的主控板可通过扩展板进行功能扩展，以添加诸如传感器和执行器等功能。"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/simple_setup_annotated.jpg",alt:"使用 4 个扩展模块简单配置 RAMN：SCREENS（网关）、CHASSIS、POWERTRAIN、BODY。"}),"\r\n",(0,i.jsx)(r.em,{children:"使用 4 个扩展模块简单配置 RAMN：SCREENS（网关)、CHASSIS、POWERTRAIN、BODY。"})]}),"\n",(0,i.jsxs)(r.h3,{id:"ecu电子控制单元",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#ecu电子控制单元",children:"#"}),"ECU（电子控制单元）"]}),"\n",(0,i.jsx)(r.p,{children:"RAMN 上共有 4 个 ECU（ECU A、ECU B、ECU C 和 ECU D），它们均采用相同的设计："}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/docs/hardware/schematics/ecus/powersupply.html#%E7%94%B5%E6%BA%90",children:"独立供应电源"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/docs/hardware/schematics/ecus/microcontroller.html#%E5%BE%AE%E6%8E%A7%E5%88%B6%E5%99%A8",children:"一个微控制器"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/docs/hardware/schematics/ecus/canphy.html#can-fd-%E6%94%B6%E5%8F%91%E5%99%A8",children:"一个 CAN FD 收发器"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/docs/hardware/expansions.html#%E6%89%A9%E5%B1%95%E7%AB%AF%E5%8F%A3",children:"一个扩展端口"})}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"ECU A 还配备了一个 USB 接口。该 USB 端口是整个电路板的主要 5V 电源，同时也用于对所有 ECU 进行重新编程。ECU A 拥有 6 个 GPIO 引脚，用于控制："}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"ECU B、ECU C 和 ECU D 的电源"}),"\n",(0,i.jsx)(r.li,{children:"ECU B、ECU C 和 ECU D 的引导模式（BOOT0 引脚）"}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["ECU D 配备了一个额外的",(0,i.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Shunt_(electrical)#Use_in_current_measuring",rel:"noopener noreferrer",target:"_blank",children:"分流电阻"}),"以及夹式探头，以方便进行测量。"]}),"\n",(0,i.jsxs)(r.h3,{id:"cancan-fd-总线",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#cancan-fd-总线",children:"#"}),"CAN/CAN FD 总线"]}),"\n",(0,i.jsxs)(r.p,{children:["RAMN 配备了一条 ",(0,i.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/CAN_FD",rel:"noopener noreferrer",target:"_blank",children:"CAN FD"})," 总线，用于连接这 4 个 ECU，并且总线两端均采用 ",(0,i.jsx)(r.a,{href:"https://e2e.ti.com/blogs_/b/industrial_strength/posts/the-importance-of-termination-networks-in-can-transceivers",rel:"noopener noreferrer",target:"_blank",children:"120 欧姆分压终端"}),"。"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"默认情况下，RAMN 仅使用经典 CAN 报文，并可与经典 CAN 控制器配合使用。"})}),"\n",(0,i.jsxs)(r.p,{children:["CAN FD 总线还配备了",(0,i.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Shunt_(electrical)#Use_in_current_measuring",rel:"noopener noreferrer",target:"_blank",children:"分流电阻"}),"和夹式探头，以方便进行测量。"]}),"\n",(0,i.jsxs)(r.p,{children:["CAN FD 总线可通过",(0,i.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Screw_terminal",rel:"noopener noreferrer",target:"_blank",children:"端子排"}),"从外部访问。"]}),"\n",(0,i.jsxs)(r.h3,{id:"框图",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#框图",children:"#"}),"框图"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/block_diag.jpg",alt:"RAMN 主板的简单框图。"}),"\r\n",(0,i.jsx)(r.em,{children:"RAMN 主板的简单框图。"})]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/block_diag_gpio.webp",alt:"RAMN 的框图，显示了 ECU 之间的连接"}),"\r\n",(0,i.jsx)(r.em,{children:"RAMN 的框图，显示了 ECU 之间的连接"})]}),"\n",(0,i.jsxs)(r.h2,{id:"硬件设计规范",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#硬件设计规范",children:"#"}),"硬件设计规范"]}),"\n",(0,i.jsxs)(r.h3,{id:"指南",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#指南",children:"#"}),"指南"]}),"\n",(0,i.jsx)(r.p,{children:"RAMN 致力于推动汽车系统领域的教育与研究。为了贴近汽车电子的实际应用，我们在 ECU 网络板中采用了 AEC-Qxxx 等级 0（或同等水平）的元器件。为使电路板尺寸更小且成本更低，省略了许多保护措施（例如 ESD 防护、上拉/下拉电阻等），因此该电路板无法达到安全关键系统所要求的可靠性水平。"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/front_pcb.webp",alt:"RAMN PCB 正面在焊接元器件之前的实物图"}),"\r\n",(0,i.jsx)(r.em,{children:"RAMN PCB 正面在焊接元器件之前的实物图"})]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/back_pcb.webp",alt:"RAMN PCB 背面尺寸图，元件焊接前"}),"\r\n",(0,i.jsx)(r.em,{children:"RAMN PCB 背面尺寸图，元件焊接前"})]}),"\n",(0,i.jsx)(r.p,{children:"所有电路板均采用双层设计，所有元件均位于同一侧。这些电路板具有较大的制造公差（例如较大的走线宽度和间距），并且我们仅选用外部引脚可见的元件，除非确实没有可行的替代方案。所有这些因素确保了 PCB 能够以低成本进行制造和组装。此外，该电路板也便于希望自行制作和焊接的爱好者使用。"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/kicad_netclasses.webp",alt:"RAMN 的 PCB 设计公差"}),"\r\n",(0,i.jsx)(r.em,{children:"RAMN 的 PCB 设计公差"})]}),"\n",(0,i.jsxs)(r.h3,{id:"阻抗匹配",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#阻抗匹配",children:"#"}),"阻抗匹配"]}),"\n",(0,i.jsx)(r.p,{children:"由于 RAMN 中涉及的频率相对较低，因此适当的阻抗匹配并非高优先级事项。不过，在可能的情况下仍遵循了良好的设计规范。"}),"\n",(0,i.jsxs)(r.h4,{id:"cancan-fd-总线-1",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#cancan-fd-总线-1",children:"#"}),"CAN/CAN-FD 总线"]}),"\n",(0,i.jsxs)(r.p,{children:["尽管 CAN/CAN-FD 总线的质量受到紧凑布局、大量连接以及仅使用两层布线的限制，但我们仍努力将 CAN-FD 总线的差分阻抗保持在 120 欧姆。具体而言，我们采用了 0.45 毫米的走线宽度和 0.2 毫米的间距，根据 ",(0,i.jsx)(r.a,{href:"http://eeweb.com/tools/edge-coupled-microstrip-impedance/",rel:"noopener noreferrer",target:"_blank",children:"EEWeb 的边缘耦合微带线阻抗计算工具"}),"，这种配置应在标准 35 微米铜厚、1.6 毫米 FR-4 板材上实现约 120 欧姆的差分阻抗。"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/CANbus_layout.webp",alt:"CAN-FD 总线布局"}),"\r\n",(0,i.jsx)(r.em,{children:"CAN-FD 总线布局"})]}),"\n",(0,i.jsxs)(r.h4,{id:"usb",children:[(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#usb",children:"#"}),"USB"]}),"\n",(0,i.jsxs)(r.p,{children:["对于 USB 线路，未尝试阻抗匹配。相反，我们遵循 ",(0,i.jsx)(r.a,{href:"http://ftdichip.com/Documents/AppNotes/AN_146_USB_Hardware_Design_Guidelines_for_FTDI_ICs.pdf",rel:"noopener noreferrer",target:"_blank",children:"FTDI 关于 USB 硬件设计的建议"}),"："]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"D+和 D-等长"}),"\n",(0,i.jsx)(r.li,{children:"D+和 D-下方设置接地层"}),"\n",(0,i.jsx)(r.li,{children:"等等"}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{src:"/hardware/overview/USB_layout.webp",alt:"USB 连接的布局"}),"\r\n",(0,i.jsx)(r.em,{children:"USB 连接的布局"})]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,s.ah)(),e.components);return r?(0,i.jsx)(r,Object.assign({},e,{children:(0,i.jsx)(h,e)})):h(e)}let d=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["docs%2Fhardware%2Foverview.mdx"]={toc:[{id:"cad-软件",text:"CAD 软件",depth:2},{id:"设计",text:"设计",depth:2},{id:"ecu电子控制单元",text:"ECU（电子控制单元）",depth:3},{id:"cancan-fd-总线",text:"CAN/CAN FD 总线",depth:3},{id:"框图",text:"框图",depth:3},{id:"硬件设计规范",text:"硬件设计规范",depth:2},{id:"指南",text:"指南",depth:3},{id:"阻抗匹配",text:"阻抗匹配",depth:3},{id:"cancan-fd-总线-1",text:"CAN/CAN-FD 总线",depth:4},{id:"usb",text:"USB",depth:4}],title:"概述",headingTitle:"概述",frontmatter:{}}}}]);