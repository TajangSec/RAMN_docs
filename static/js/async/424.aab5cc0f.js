"use strict";(self.webpackChunkRAMN_docs=self.webpackChunkRAMN_docs||[]).push([["424"],{684:function(e,n,r){r.r(n),r.d(n,{default:()=>d});var s=r(5893),i=r(65);function c(e){let n=Object.assign({h1:"h1",a:"a",p:"p",img:"img",em:"em",ul:"ul",li:"li",div:"div"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"can-fd-收发器",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#can-fd-收发器",children:"#"}),"CAN-FD 收发器"]}),"\n",(0,s.jsx)(n.p,{children:"所有 ECU 均采用相同的 CAN-FD 物理层（PHY）设计，该设计基于一款简单的 CAN-FD 收发器 IC，并辅以旁路电容。该收发器从 5V 电源线（VDD）获取供电，但通信时使用 3.3V 电压（Vio）。"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{src:"/hardware/schematics/CAN_PHY.webp",alt:""}),"\r\n",(0,s.jsx)(n.em,{children:"ECU 所使用的 CAN-FD 物理层"})]}),"\n",(0,s.jsx)(n.p,{children:"大多数 CAN 收发器 IC 采用相同的封装和布局，因此可以互换使用。我们使用以下任一组件构建了原型："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://ww1.microchip.com/downloads/en/DeviceDoc/20005991B.pdf",rel:"noopener noreferrer",target:"_blank",children:"ATA6561-GAQW-N"}),"（BETA）。该产品适用于汽车应用（AEC-Q100 认证），但其比特率限制为 5 Mbps。"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://ww1.microchip.com/downloads/en/DeviceDoc/20005533A.pdf",rel:"noopener noreferrer",target:"_blank",children:"MCP2558FD-H/SN"}),"（V1）。其最大比特率为 8 Mbps，但目前尚未通过 AEC-Q100 认证（？）。"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"我们首选 MCP2558FD-H/SN，因为它具有更高的最大比特率。"}),"\n",(0,s.jsx)(n.p,{children:"该 PHY 芯片配备了一个“STBY”（待机）或“S”（静默）引脚，用于禁用收发器："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"当 STBY/S 引脚为高电平时，收发器被禁用，ECU 将无法在 CAN-FD 总线上进行通信。"}),"\n",(0,s.jsx)(n.li,{children:"当 STBY/S 为低电平时，收发器被启用，ECU 即可在 CAN-FD 总线上进行通信。"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["STBY/S 引脚",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Pull-up_resistor",rel:"noopener noreferrer",target:"_blank",children:"内置上拉电阻"}),"，这意味着必须主动将 STBY/S 引脚置为低电平才能使能通信。在典型设计中，建议将 STBY/S 保持上拉状态，以确保未编程的 ECU 不会干扰 CAN-FD 总线。然而，由于 RAMN 利用 CAN-FD 总线从（未编程的）出厂状态对 ECU 进行编程，因此 STBY/S 引脚需通过外部下拉，以允许硬件内置的引导程序通过 CAN-FD 进行通信。"]}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive info",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"注意"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsx)(n.p,{children:"当 ECU 未使用时，建议将其编程为禁用其 CAN-FD 收发器。"})})]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(c,e)})):c(e)}let d=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["docs%2Fhardware%2Fschematics%2Fecus%2Fcanphy.mdx"]={toc:[],title:"CAN-FD 收发器",headingTitle:"CAN-FD 收发器",frontmatter:{}}}}]);